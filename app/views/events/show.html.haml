= link_to fa_icon('edit', text: 'Edit Event'), edit_event_path(@event), class: 'button-xs pull-right', remote: true
%h2.heading.text-center= "#{@event.name} - #{@event.event_date}"

.large-12.columns
  .large-5.columns
    .event-participants
      .pull-right= link_to fa_icon('plus', text: 'New Participant'), new_participant_path(event_id: @event.id), class: "button-xs new-participant-button", remote: true
      %h4 Participants
      .new-participant
      .participant-list
        .panel
          - if @event.participants.present?
            - @event.participants.each_with_index do |p, index|
              .row.flyer-list-item
                .large-12.columns
                  .large-1.columns.text-left= "#{index + 1}."
                  .large-4.columns= p.flyer.name
                  .large-3.columns= "#{p.flyer.hours.ceil} hrs"
                  .large-3.columns= p.category.name
                  .large-1.columns= link_to fa_icon('remove', text: ''), p, method: :delete, data: { confirm: 'Are you sure?' }
          - else
            .empty-list.text-center= fa_icon('frown-o', text: 'No Participants')

  .large-7.columns
    .event-teams
      .pull-right= button_to 'Generate Teams', { action: 'generate', event_id: @event.id }, { class: 'button-xs radius', id: 'generate-teams', remote: true }
      .pull-right#show-teams= link_to 'Show Teams', event_teams_path(event_id: @event.id), class: 'button-xs radius'
      %h4 Teams
      .new-teams
        %div.generating-teams
          %i.fa.fa-refresh.fa-spin
          Generating Teams

      .teams-list
        - if @event.teams.present?
          = render 'teams'
        - else
          .panel
            .empty-list.text-center= fa_icon('frown-o', text: 'No Participants')

